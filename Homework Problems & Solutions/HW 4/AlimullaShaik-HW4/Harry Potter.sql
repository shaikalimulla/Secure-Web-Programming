-- MySQL Script generated by MySQL Workbench
-- 02/10/16 23:22:58
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema potterDB
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema potterDB
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `potterDB` DEFAULT CHARACTER SET utf8 ;
USE `potterDB` ;

-- -----------------------------------------------------
-- Table `potterDB`.`sides`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `potterDB`.`sides` (
  `side_id` INT NOT NULL,
  `side_name` VARCHAR(45) NOT NULL,
  `leader` VARCHAR(45) NULL,
  PRIMARY KEY (`side_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `potterDB`.`spells`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `potterDB`.`spells` (
  `spell_id` INT NOT NULL,
  `spell_title` VARCHAR(45) NOT NULL,
  `spell_desc` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`spell_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `potterDB`.`houses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `potterDB`.`houses` (
  `house_id` INT NOT NULL,
  `house_name` VARCHAR(45) NOT NULL,
  `house_founder` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`house_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `potterDB`.`characters`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `potterDB`.`characters` (
  `characters_id` INT NOT NULL,
  `characters_name` VARCHAR(45) NOT NULL,
  `side_id` INT NULL,
  `house_id` INT NULL,
  `spell_id` INT NULL,
  PRIMARY KEY (`characters_id`),
  CONSTRAINT `side_fk`
    FOREIGN KEY (`side_id`)
    REFERENCES `potterDB`.`sides` (`side_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `spell_fk`
    FOREIGN KEY (`spell_id`)
    REFERENCES `potterDB`.`spells` (`spell_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `house_fk`
    FOREIGN KEY (`house_id`)
    REFERENCES `potterDB`.`houses` (`house_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `side_fk_idx` ON `potterDB`.`characters` (`side_id` ASC);

CREATE INDEX `house_fk_idx` ON `potterDB`.`characters` (`house_id` ASC);


-- -----------------------------------------------------
-- Table `potterDB`.`title`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `potterDB`.`title` (
  `id` INT NOT NULL,
  `title` VARCHAR(45) NOT NULL,
  `publication_date` DATE NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `potterDB`.`appearsIn`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `potterDB`.`appearsIn` (
  `appears_id` INT NOT NULL,
  `character_id` INT NOT NULL,
  `book_id` INT NOT NULL,
  PRIMARY KEY (`appears_id`),
  CONSTRAINT `characters_fk`
    FOREIGN KEY (`character_id`)
    REFERENCES `potterDB`.`characters` (`characters_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `book_fk`
    FOREIGN KEY (`book_id`)
    REFERENCES `potterDB`.`title` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `characters_fk_idx` ON `potterDB`.`appearsIn` (`character_id` ASC);

CREATE INDEX `book_fk_idx` ON `potterDB`.`appearsIn` (`book_id` ASC);


-- -----------------------------------------------------
-- Table `potterDB`.`deathly_hollows`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `potterDB`.`deathly_hollows` (
  `deathly_hollow_id` INT NOT NULL,
  `deathly_hollow_name` VARCHAR(45) NOT NULL,
  `owner` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`deathly_hollow_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `potterDB`.`horcruxes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `potterDB`.`horcruxes` (
  `horcruxes_id` INT NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `charecter_id` INT NOT NULL,
  PRIMARY KEY (`horcruxes_id`),
  CONSTRAINT `horcruxes_char_id`
    FOREIGN KEY (`charecter_id`)
    REFERENCES `potterDB`.`characters` (`characters_id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;

CREATE INDEX `horcruxes_char_id_idx` ON `potterDB`.`horcruxes` (`charecter_id` ASC);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `potterDB`.`sides`
-- -----------------------------------------------------
START TRANSACTION;
USE `potterDB`;
INSERT INTO `potterDB`.`sides` (`side_id`, `side_name`, `leader`) VALUES (1, 'Order of Phoneix', 'Harry Potter');
INSERT INTO `potterDB`.`sides` (`side_id`, `side_name`, `leader`) VALUES (2, 'Death Eaters', 'Lord Voldemort');

COMMIT;


-- -----------------------------------------------------
-- Data for table `potterDB`.`spells`
-- -----------------------------------------------------
START TRANSACTION;
USE `potterDB`;
INSERT INTO `potterDB`.`spells` (`spell_id`, `spell_title`, `spell_desc`) VALUES (1, 'Stupefy', 'Puts the victim in an unconscious state. Manifests as a jet of red light.');
INSERT INTO `potterDB`.`spells` (`spell_id`, `spell_title`, `spell_desc`) VALUES (2, 'Expelliarmus', 'This spell is used to disarm another wizard');
INSERT INTO `potterDB`.`spells` (`spell_id`, `spell_title`, `spell_desc`) VALUES (3, 'Avada Kedavra', 'Causes instant');
INSERT INTO `potterDB`.`spells` (`spell_id`, `spell_title`, `spell_desc`) VALUES (4, 'Wingardium Leviosa', 'Levitates objects');
INSERT INTO `potterDB`.`spells` (`spell_id`, `spell_title`, `spell_desc`) VALUES (5, 'Alohomora', 'Used to open and/or unlock doors but doors can be bewitched so that this spell has no effect');

COMMIT;


-- -----------------------------------------------------
-- Data for table `potterDB`.`houses`
-- -----------------------------------------------------
START TRANSACTION;
USE `potterDB`;
INSERT INTO `potterDB`.`houses` (`house_id`, `house_name`, `house_founder`) VALUES (1, 'Gryffindor', 'Godric Gryffindor');
INSERT INTO `potterDB`.`houses` (`house_id`, `house_name`, `house_founder`) VALUES (2, 'Slytherin', 'Salazar Slytherin');
INSERT INTO `potterDB`.`houses` (`house_id`, `house_name`, `house_founder`) VALUES (3, 'Ravenclaw', 'Rowena Ravenclaw');
INSERT INTO `potterDB`.`houses` (`house_id`, `house_name`, `house_founder`) VALUES (4, 'Hufflepuff', 'Helga Hufflepuff');

COMMIT;


-- -----------------------------------------------------
-- Data for table `potterDB`.`characters`
-- -----------------------------------------------------
START TRANSACTION;
USE `potterDB`;
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (1, 'Harry Potter', 1, 1, 1);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (2, 'Hermione Granger', 1, 1, 2);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (3, 'Albus Dumbledore', 1, 1, 4);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (4, 'Lord Voldemort', 2, NULL, NULL);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (5, 'Ginny Weasley', 1, 1, 5);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (6, 'Alastor Moody', 1, NULL, NULL);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (7, 'Neville Longbottom', 1, 1, 4);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (8, 'Ronald Weasley', 1, 1, 3);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (9, 'Hannah Abbott', 1, 2, 5);
INSERT INTO `potterDB`.`characters` (`characters_id`, `characters_name`, `side_id`, `house_id`, `spell_id`) VALUES (10, 'Susan Bones', 1, 2, 5);

COMMIT;


-- -----------------------------------------------------
-- Data for table `potterDB`.`title`
-- -----------------------------------------------------
START TRANSACTION;
USE `potterDB`;
INSERT INTO `potterDB`.`title` (`id`, `title`, `publication_date`) VALUES (1, 'Harry Potter and the Sorcerers Stone', '1998-01-09');
INSERT INTO `potterDB`.`title` (`id`, `title`, `publication_date`) VALUES (2, 'Harry Potter and the Chamber of Secrets', '1999-02-06');
INSERT INTO `potterDB`.`title` (`id`, `title`, `publication_date`) VALUES (3, 'Harry Potter and the Prisoner of Azkaban', '1999-08-09');
INSERT INTO `potterDB`.`title` (`id`, `title`, `publication_date`) VALUES (4, 'Harry Potter and the Goblet of Fire', '2000-07-08');
INSERT INTO `potterDB`.`title` (`id`, `title`, `publication_date`) VALUES (5, 'Harry Potter and the Order of the Phoenix', '2003-06-21');
INSERT INTO `potterDB`.`title` (`id`, `title`, `publication_date`) VALUES (6, 'Harry Potter and the Half-Blood Prince', '2005-07-16');
INSERT INTO `potterDB`.`title` (`id`, `title`, `publication_date`) VALUES (7, 'Harry Potter and the Deathly Hallows', '2007-07-21');

COMMIT;


-- -----------------------------------------------------
-- Data for table `potterDB`.`appearsIn`
-- -----------------------------------------------------
START TRANSACTION;
USE `potterDB`;
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (1, 1, 1);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (2, 1, 2);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (3, 1, 3);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (4, 1, 4);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (5, 1, 5);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (6, 2, 1);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (7, 2, 2);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (8, 2, 3);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (9, 3, 3);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (10, 3, 1);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (11, 5, 4);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (12, 7, 4);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (13, 8, 5);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (14, 9, 6);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (15, 10, 7);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (16, 4, 5);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (17, 6, 4);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (18, 1, 6);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (19, 1, 7);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (20, 2, 4);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (21, 2, 5);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (22, 2, 6);
INSERT INTO `potterDB`.`appearsIn` (`appears_id`, `character_id`, `book_id`) VALUES (23, 2, 7);

COMMIT;


-- -----------------------------------------------------
-- Data for table `potterDB`.`deathly_hollows`
-- -----------------------------------------------------
START TRANSACTION;
USE `potterDB`;
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (1, 'Invisible cloak', 'Albus Dumbledore');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (2, 'Invisible cloak', 'James Potter');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (3, 'Invisible cloak', 'Harry Potter');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (4, 'Invisible cloak', 'Alastor Moody');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (5, 'Resurrection Stone', 'Harry Potter');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (6, 'Resurrection Stone', 'Albus Dumbledore');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (7, 'Resurrection Stone', 'Cadmus Peverell');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (8, 'Elder Wand', 'Albus Dumbledore');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (9, 'Elder Wand', 'Gellert Grindelwald');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (10, 'Elder Wand', 'Godelot');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (11, 'Resurrection Stone', 'Marvolo Gaunt');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (12, 'Elder Wand', 'Harry Potter');
INSERT INTO `potterDB`.`deathly_hollows` (`deathly_hollow_id`, `deathly_hollow_name`, `owner`) VALUES (13, 'Elder Wand', 'Tom Riddle');

COMMIT;


-- -----------------------------------------------------
-- Data for table `potterDB`.`horcruxes`
-- -----------------------------------------------------
START TRANSACTION;
USE `potterDB`;
INSERT INTO `potterDB`.`horcruxes` (`horcruxes_id`, `name`, `charecter_id`) VALUES (1, 'Harry Potter', 1);
INSERT INTO `potterDB`.`horcruxes` (`horcruxes_id`, `name`, `charecter_id`) VALUES (2, 'Helga Hufflepuffs Cup', 3);
INSERT INTO `potterDB`.`horcruxes` (`horcruxes_id`, `name`, `charecter_id`) VALUES (3, 'Nagini', 1);
INSERT INTO `potterDB`.`horcruxes` (`horcruxes_id`, `name`, `charecter_id`) VALUES (4, 'Marvolo Gaunts Ring', 5);

COMMIT;

